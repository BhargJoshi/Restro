<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<title>Emerald Menu - Premium Mobile</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --primary: #ffcc00;
  --bg-light: #f7f7f7;
  --intro-beige: #f4f1ea; 
}

* { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

body {
  font-family: 'Inter', sans-serif;
  background-color: #111;
  height: 100vh;
  display: flex;
  overflow: hidden;
}

/* --- ANIMATION STAGE --- */
#intro-wrapper {
  position: fixed;
  inset: 0;
  z-index: 9999;
  background: var(--intro-beige);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  transition: transform 0.8s cubic-bezier(0.7, 0, 0.3, 1);
}

#intro-wrapper.exit { transform: translateY(-100%); }

.brand-header {
  position: absolute;
  top: 60px;
  font-family: 'Arial Black', sans-serif;
  font-size: 42px;
  font-weight: 900;
  color: #000;
  letter-spacing: -2px;
}

.animation-container {
  position: relative;
  width: 350px;
  height: 400px;
  display: flex;
  justify-content: center;
  align-items: flex-end;
  padding-bottom: 40px;
  overflow: hidden; /* Clips the items as they fall from high up */
}

.plate-side {
  width: 300px;
  height: 12px; 
  background: #ffffff;
  border-radius: 20px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.1);
  position: relative;
  z-index: 20;
}

/* Food Items - Physical Drop Animation */
.falling-item {
  position: absolute;
  font-size: 55px;
  z-index: 10;
  bottom: 45px; /* Sits just above plate */
  opacity: 0;
  transform-origin: bottom center;
}

/* Vertical Drop Keyframes */
@keyframes physicalDrop {
  0% { transform: translateY(-600px); opacity: 0; }
  10% { opacity: 1; }
  100% { transform: translateY(0); opacity: 1; }
}

/* Sequential Delays for 10 items */
.item-1 { animation: physicalDrop 0.4s 0.5s cubic-bezier(0.47, 0, 0.745, 0.715) forwards; left: 15px; }
.item-2 { animation: physicalDrop 0.4s 0.8s cubic-bezier(0.47, 0, 0.745, 0.715) forwards; left: 50px; }
.item-3 { animation: physicalDrop 0.4s 1.1s cubic-bezier(0.47, 0, 0.745, 0.715) forwards; left: 90px; }
.item-4 { animation: physicalDrop 0.4s 1.4s cubic-bezier(0.47, 0, 0.745, 0.715) forwards; left: 130px; }
.item-5 { animation: physicalDrop 0.4s 1.7s cubic-bezier(0.47, 0, 0.745, 0.715) forwards; left: 175px; }
.item-6 { animation: physicalDrop 0.4s 2.0s cubic-bezier(0.47, 0, 0.745, 0.715) forwards; left: 220px; }
.item-7 { animation: physicalDrop 0.4s 2.3s cubic-bezier(0.47, 0, 0.745, 0.715) forwards; left: 260px; }
.item-8 { animation: physicalDrop 0.4s 2.6s cubic-bezier(0.47, 0, 0.745, 0.715) forwards; left: 40px; z-index: 11; }
.item-9 { animation: physicalDrop 0.4s 2.9s cubic-bezier(0.47, 0, 0.745, 0.715) forwards; left: 110px; z-index: 11; }
.item-10 { animation: physicalDrop 0.4s 3.2s cubic-bezier(0.47, 0, 0.745, 0.715) forwards; left: 180px; z-index: 11; }

/* Lid Animation */
.lid {
  position: absolute;
  width: 320px;
  height: 160px;
  background: linear-gradient(135deg, #fff 0%, #ccc 100%);
  border-radius: 160px 160px 10px 10px;
  bottom: 48px;
  z-index: 30;
  opacity: 0;
  transform: translateY(-800px);
  animation: lidClose 0.6s 4s forwards, lidReveal 1s 8s forwards;
}

@keyframes lidClose {
  0% { transform: translateY(-800px); opacity: 0; }
  100% { transform: translateY(0); opacity: 1; }
}

@keyframes lidReveal {
  0% { transform: translateY(0); opacity: 1; }
  100% { transform: translateY(-900px); opacity: 0; }
}

/* White Smoke Particles */
.smoke-container {
  position: absolute;
  bottom: 50px;
  width: 250px;
  height: 100px;
  z-index: 25;
  opacity: 0;
  animation: smokeActive 3s 4.5s forwards;
}

.smoke {
  position: absolute;
  width: 40px; height: 40px; background: white;
  border-radius: 50%; filter: blur(15px);
  animation: floatUp 2s infinite ease-out;
}

@keyframes floatUp {
  0% { transform: translateY(0) scale(1); opacity: 0; }
  50% { opacity: 0.8; }
  100% { transform: translateY(-120px) scale(3); opacity: 0; }
}

@keyframes smokeActive {
  0%, 100% { opacity: 0; }
  20%, 80% { opacity: 1; }
}

.intro-text {
  margin-top: 20px;
  font-family: 'Playfair Display', serif;
  font-size: 22px;
  color: #333;
}

/* --- MAIN UI PLACEHOLDER --- */
.main-app { flex: 1; background: var(--bg-light); display: flex; flex-direction: column; }
.header { height: 60px; background: white; border-bottom: 1px solid #ddd; }
</style>
</head>
<body>

<div id="intro-wrapper">
    <div class="brand-header">EMERALD</div>
    
    <div class="animation-container">
        <div class="smoke-container">
            <div class="smoke" style="left:20%; animation-delay:0s"></div>
            <div class="smoke" style="left:50%; animation-delay:0.5s"></div>
            <div class="smoke" style="left:80%; animation-delay:1s"></div>
        </div>

        <div class="lid"></div>
        <div class="plate-side"></div>
        
        <div class="falling-item item-1">ü•§</div> <div class="falling-item item-2">üç≤</div> <div class="falling-item item-3">üçü</div> <div class="falling-item item-4">ü•ó</div> <div class="falling-item item-5">üåÆ</div> <div class="falling-item item-6">üåØ</div> <div class="falling-item item-7">ü•ò</div> <div class="falling-item item-8">ü•ô</div> <div class="falling-item item-9">ü•™</div> <div class="falling-item item-10">üçú</div> </div>
    
    <p class="intro-text" id="status-text">Arranging your order...</p>
</div>

<div class="main-app">
    <div class="header"></div>
    <div style="padding:40px; text-align:center; color:#999">Menu Content Loaded</div>
</div>

<script>
function triggerVibe(duration) {
    if ("vibrate" in navigator) navigator.vibrate(duration);
}

function runSequence() {
    // 1. Precise Vibration for each item hitting the plate
    // Timings are matched to CSS animation start (delay) + duration
    const impactTimings = [900, 1200, 1500, 1800, 2100, 2400, 2700, 3000, 3300, 3600];
    
    impactTimings.forEach(ms => {
        setTimeout(() => triggerVibe(20), ms);
    });

    // 2. Lid Drop Impact
    setTimeout(() => {
        triggerVibe(50);
        document.getElementById('status-text').innerText = "Simmering to perfection...";
    }, 4600);

    // 3. Lid Reveal Reveal
    setTimeout(() => {
        triggerVibe([30, 50, 30]);
        document.getElementById('status-text').innerText = "Ready to serve!";
    }, 8500);

    // 4. Exit Intro
    setTimeout(() => {
        document.getElementById('intro-wrapper').classList.add('exit');
    }, 11000);
}

window.onload = runSequence;
</script>
</body>
</html>
