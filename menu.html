<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<title>Rialto Menu - Premium Mobile</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --primary: #ffcc00;
  --primary-dark: #cc9900;
  --bg-light: #f8f9fa;
  --text-dark: #1a1a1a;
  --surface: #ffffff;
  --radius: 16px;
}

* { margin: 0; padding: 0; box-sizing: border-box; [cite_start]-webkit-tap-highlight-color: transparent; [cite: 4] }

body {
  font-family: 'Inter', sans-serif;
  background-color: var(--bg-light);
  color: var(--text-dark);
  line-height: 1.5;
  overflow-x: hidden;
}

/* --- MOBILE OPTIMIZED LAYOUT --- */
.app-container {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

/* Sticky Header */
.header {
  position: sticky;
  top: 0;
  background: var(--surface);
  z-index: 100;
  padding: 16px 20px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.05);
}

.header h1 {
  font-family: 'Playfair Display', serif;
  font-size: 24px;
}

/* Horizontal Category Scroller (Zepto/Blinkit style) */
.category-scroller {
  display: flex;
  overflow-x: auto;
  white-space: nowrap;
  padding: 12px 20px;
  background: var(--surface);
  gap: 12px;
  scrollbar-width: none; /* Hide scrollbar Firefox */
  position: sticky;
  top: 65px; /* Below header */
  z-index: 99;
  border-bottom: 1px solid #eee;
}

.category-scroller::-webkit-scrollbar { display: none; } /* Hide scrollbar Chrome/Safari */

.nav-item {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 8px 16px;
  background: #f0f0f0;
  border-radius: 20px;
  cursor: pointer;
  transition: all 0.2s ease;
  flex-shrink: 0;
}

.nav-item.active {
  background: var(--primary);
  font-weight: 700;
  [cite_start]box-shadow: 0 4px 10px rgba(255, 204, 0, 0.3); [cite: 10]
}

.nav-item span { font-size: 18px; }
.nav-item label { font-size: 13px; pointer-events: none; }

/* Responsive Grid */
.menu-container {
  padding: 16px;
  flex: 1;
}

.items-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr); /* 2 columns on mobile */
  gap: 16px;
  [cite_start]padding-bottom: 100px; [cite: 14]
}

@media (min-width: 768px) {
  .items-grid { grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); }
}

/* Food Card Enhancements */
.food-card {
  background: var(--surface);
  border-radius: var(--radius);
  padding: 10px;
  display: flex;
  flex-direction: column;
  [cite_start]box-shadow: 0 4px 12px rgba(0,0,0,0.05); [cite: 15]
  position: relative;
}

.badge {
  position: absolute;
  top: 8px;
  right: 8px;
  [cite_start]background: #ff3b30; [cite: 16]
  color: white;
  min-width: 22px;
  height: 22px;
  border-radius: 11px;
  display: none;
  align-items: center;
  justify-content: center;
  font-size: 11px;
  font-weight: 700;
  border: 2px solid #fff;
  z-index: 5;
}

.food-card img {
  width: 100%;
  aspect-ratio: 1/1;
  [cite_start]object-fit: cover; [cite: 18]
  border-radius: 12px;
  margin-bottom: 8px;
}

.food-card h4 { 
  font-size: 14px; 
  font-weight: 600;
  margin-bottom: 4px;
  height: 40px; 
  overflow: hidden;
}

.price { 
  font-weight: 700; 
  color: #111; 
  font-size: 15px;
  [cite_start]margin-bottom: 10px; [cite: 19]
}

/* Action Buttons */
.add-initial {
  width: 100%;
  padding: 8px;
  background: #fff;
  color: #28a745;
  [cite_start]border: 1px solid #28a745; [cite: 20]
  border-radius: 8px;
  font-weight: 700;
  cursor: pointer;
}

.qty-controls {
  [cite_start]display: none; [cite: 21]
  align-items: center;
  justify-content: space-between;
  background: #28a745;
  border-radius: 8px;
  color: white;
}

.btn-qty {
  width: 32px;
  height: 32px;
  border: none;
  background: transparent;
  color: white;
  font-size: 18px;
  [cite_start]font-weight: 700; [cite: 23]
}

/* Floating Cart (Blinkit Style) */
.cart-trigger {
  position: fixed;
  bottom: 20px;
  left: 20px;
  right: 20px;
  height: 55px;
  background: #28a745;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 20px;
  color: white;
  font-weight: 700;
  [cite_start]box-shadow: 0 10px 20px rgba(40, 167, 69, 0.3); [cite: 25]
  z-index: 100;
  display: none; /* Shown when items > 0 */
}

/* Cart Popup */
.cart-popup {
  position: fixed;
  inset: 0;
  [cite_start]background: rgba(0,0,0,0.6); [cite: 26]
  display: none;
  justify-content: center;
  align-items: flex-end;
  z-index: 200;
}

.cart-content {
  width: 100%;
  max-width: 500px;
  background: #fff;
  border-top-left-radius: 24px;
  [cite_start]border-top-right-radius: 24px; [cite: 27]
  padding: 24px;
  max-height: 80vh;
  overflow-y: auto;
}

.pay-btn {
  width: 100%;
  padding: 16px;
  [cite_start]background: #28a745; [cite: 29]
  color: white;
  border: none;
  border-radius: 12px;
  font-size: 16px;
  font-weight: 700;
  margin-top: 15px;
}
</style>
</head>
<body>

<div class="app-container">
  <header class="header">
    <h1>Rialto ‚ú®</h1>
  </header>

  <div class="category-scroller">
    <div class="nav-item active" onclick="showSection('starters', this)">
      <span>ü•ó</span><label>Starters</label>
    </div>
    <div class="nav-item" onclick="showSection('main', this)">
      <span>üçù</span><label>Mains</label>
    </div>
    <div class="nav-item" onclick="showSection('apps', this)">
      <span>üçü</span><label>Sides</label>
    </div>
    <div class="nav-item" onclick="showSection('desserts', this)">
      <span>üç∞</span><label>Sweets</label>
    </div>
  </div>
  
  <div class="menu-container">
    <div class="items-grid" id="menu-grid"></div>
  </div>
</div>

<div class="cart-trigger" id="floating-cart" onclick="toggleCart()">
  <div style="display:flex; align-items:center; gap:10px">
    <span id="floating-qty">0 Items</span>
    <span>|</span>
    <span id="floating-total">$0.00</span>
  </div>
  <span>View Cart üõí</span>
</div>

<div class="cart-popup" id="cart-popup">
  <div class="cart-content">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
        <h3>Your Basket</h3>
        <button onclick="toggleCart()" style="background:none; border:none; font-size:20px;">‚úï</button>
    </div>
    <div id="cart-items-list"></div>
    
    <div style="background: #f8f9fa; padding: 15px; border-radius: 12px; margin-top: 15px;">
      <div style="display: flex; justify-content: space-between; font-size: 14px; color: #666;">
        [cite_start]<span>Tax (10%)</span><span id="cart-tax">$0.00</span> [cite: 48]
      </div>
      <div style="display: flex; justify-content: space-between; font-weight: 800; font-size: 20px; margin-top: 5px;">
        [cite_start]<span>Total</span><span id="cart-total-price">$0.00</span> [cite: 34]
      </div>
    </div>
    
    <button class="pay-btn" onclick="processPayment()">Checkout Now ‚Üí</button>
  </div>
</div>

<script>
// Data and Logic remain largely the same to ensure functionality persists
const menuData = {
  starters: Array.from({length: 10}, (_, i) => ({ id: `s${i}`, name: `Fresh Starter ${i+1}`, price: 12.00, img: `https://images.unsplash.com/photo-1541529086526-db283c563270?w=300` })),
  main: Array.from({length: 10}, (_, i) => ({ id: `m${i}`, name: `Signature Main ${i+1}`, price: 24.50, img: `https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=300` })),
  apps: Array.from({length: 10}, (_, i) => ({ id: `a${i}`, name: `Side Snack ${i+1}`, price: 9.00, img: `https://images.unsplash.com/photo-1534422298391-e4f8c170db0a?w=300` })),
  desserts: Array.from({length: 10}, (_, i) => ({ id: `d${i}`, name: `Sweet Treat ${i+1}`, price: 11.00, img: `https://images.unsplash.com/photo-1563729784474-d77dbb933a9e?w=300` }))
};

let cart = {};

function showSection(section, el) {
  document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
  el.classList.add('active');
  
  const grid = document.getElementById('menu-grid');
  grid.innerHTML = '';
  
  menuData[section].forEach(item => {
    const qty = cart[item.id]?.qty || 0;
    grid.innerHTML += `
      <div class="food-card" id="card-${item.id}">
        <div class="badge" id="badge-${item.id}" style="display: ${qty > 0 ? 'flex' : 'none'}">${qty}</div>
        <img src="${item.img}" alt="${item.name}">
        <h4>${item.name}</h4>
        <span class="price">$${item.price.toFixed(2)}</span>
        
        <button class="add-initial" id="add-init-${item.id}" 
                style="display: ${qty > 0 ? 'none' : 'block'}"
                onclick="handleFirstAdd('${item.id}', '${item.name}', ${item.price})">ADD</button>
        
        <div class="qty-controls" id="ctrl-${item.id}" style="display: ${qty > 0 ? 'flex' : 'none'}">
          <button class="btn-qty" onclick="updateQty('${item.id}', -1)">-</button>
          <span style="font-weight:700" id="qty-text-${item.id}">${qty}</span>
          <button class="btn-qty" onclick="updateQty('${item.id}', 1)">+</button>
        </div>
      </div>
    [cite_start]`; [cite: 39]
  });
}

function handleFirstAdd(id, name, price) {
  cart[id] = { name, price, qty: 1 };
  document.getElementById(`add-init-${id}`).style.display = 'none';
  document.getElementById(`ctrl-${id}`).style.display = 'flex';
  document.getElementById(`badge-${id}`).style.display = 'flex';
  document.getElementById(`badge-${id}`).innerText = 1;
  [cite_start]document.getElementById(`qty-text-${id}`).innerText = 1; [cite: 41]
  updateGlobalUI();
}

function updateQty(id, change) {
  if (!cart[id]) return;
  [cite_start]cart[id].qty += change; [cite: 42]
  if (cart[id].qty <= 0) {
    [cite_start]delete cart[id]; [cite: 43]
    if(document.getElementById(`add-init-${id}`)) {
        document.getElementById(`add-init-${id}`).style.display = 'block';
        document.getElementById(`ctrl-${id}`).style.display = 'none';
        [cite_start]document.getElementById(`badge-${id}`).style.display = 'none'; [cite: 44]
    }
  } else {
    if(document.getElementById(`qty-text-${id}`)) {
        document.getElementById(`qty-text-${id}`).innerText = cart[id].qty;
        [cite_start]document.getElementById(`badge-${id}`).innerText = cart[id].qty; [cite: 45]
    }
  }
  updateGlobalUI();
}

function updateGlobalUI() {
  let subtotal = 0;
  let totalItems = 0;
  const list = document.getElementById('cart-items-list');
  list.innerHTML = '';
  
  Object.keys(cart).forEach(id => {
    const item = cart[id];
    subtotal += item.price * item.qty;
    totalItems += item.qty;
    
    list.innerHTML += `
      <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px">
        <div><div style="font-weight:600">${item.name}</div><small>$${item.price.toFixed(2)}</small></div>
        <div style="display:flex; align-items:center; gap:10px; background:#f0f0f0; border-radius:8px; padding:2px 8px">
          <button onclick="updateQty('${id}', -1)" style="border:none; background:none; font-weight:bold; padding:5px">-</button>
          <span>${item.qty}</span>
          <button onclick="updateQty('${id}', 1)" style="border:none; background:none; font-weight:bold; padding:5px">+</button>
        </div>
      </div>
    [cite_start]`; [cite: 48]
  });

  [cite_start]const tax = subtotal * 0.1; [cite: 49]
  const finalTotal = (subtotal + tax).toFixed(2);
  
  document.getElementById('cart-tax').innerText = `$${tax.toFixed(2)}`;
  document.getElementById('cart-total-price').innerText = `$${finalTotal}`;
  
  // Update Floating Bar
  const floatCart = document.getElementById('floating-cart');
  if(totalItems > 0) {
      floatCart.style.display = 'flex';
      document.getElementById('floating-qty').innerText = `${totalItems} Items`;
      document.getElementById('floating-total').innerText = `$${finalTotal}`;
  } else {
      floatCart.style.display = 'none';
  }
}

function toggleCart() {
  const p = document.getElementById('cart-popup');
  p.style.display = (p.style.display === 'flex') ? [cite_start]'none' : 'flex'; [cite: 50]
  updateGlobalUI();
}

function processPayment() {
  [cite_start]alert("Redirecting to Table Selection & Payment..."); [cite: 52]
}

// Boot
showSection('starters', document.querySelector('.nav-item'));
</script>
</body>
</html>
